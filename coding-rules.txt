不要使用虚函数，使用统一接口的基类派生出多个实现，用宏定义选择

